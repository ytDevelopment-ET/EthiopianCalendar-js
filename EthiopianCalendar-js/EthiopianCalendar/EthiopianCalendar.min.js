/*
 * Ethiopian Calendar-js v1.0.1 : https://github.com/ytDevelopment-ET/EthiopianCalendar
 *
 * Copyright (©) 2019-2021 ytDevelopment
 * http://ytdevelopment.zya.me
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 */
class EthiopianCalendar{get FIVE(){return 5}get SIX(){return 6}get GregorianMonthLength(){return[31,[29,28],31,30,31,30,31,31,30,31,30,31]}get EthiopianMonth(){return[5,6,7,8,9,10,11,12,1,2,3,4]}get GregorianMonthName(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}get EthiopianMonthName(){return["መስከረም","ጥቅምት","ህዳር","ታህሳስ","ጥር","የካቲት","መጋቢት","ሚያዚያ","ግንቦት","ሰኔ","ሐምሌ","ነሀሴ","ጳጉሜ"]}get GregorianDayName(){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}get EthiopianDayName(){return["ሰኞ","ማክሰኞ","ረቡዕ","ሐሙስ","ዓርብ","ቅዳሜ","እሁድ"]}get WEEK_DAY_LIST(){return{Monday:0,Tuesday:-1,Wednesday:-2,Thursday:-3,Friday:-4,Saturday:-5,Sunday:-6}}get MonthDifference(){return[8,7,9,8,8,7,7,6,[5,6],[10,11],[9,10],[9,10]]}constructor(t){if(!t instanceof Date&&(t=new Date),this.year=t.getFullYear(),this.month=t.getMonth()+1,this.day=t.getDate(),this.year>0&&this.month>0&&this.month<=12&&this.day>0&&this.day<=this.GCMonthLength()){this.SetLeapYear();var e,h=this.year-this.YearDifference(),a=this.EthiopianMonth[this.month-1];this.month>=9&&this.month<=12?9==this.month?(e=this.day-(this.MonthDifference[this.month-1][this.leap_year_index]+this.leap_year_index+this.LeapYearAddition()))>=-5&&e<=0?(e+=6,a=13):0==e?e=1:e+=e<-5?6:1:e=this.day-this.MonthDifference[this.month-1][this.leap_year_index]:e=this.day-this.MonthDifference[this.month-1],e<=0&&(e=30+e,a=null!=this.EthiopianMonth[this.month-2]?this.EthiopianMonth[this.month-2]:this.EthiopianMonth[this.month-2+this.EthiopianMonth.length]),this.EC_year=h,this.EC_month=a,this.EC_day=e,this.Converted=!0,this.GCDate=new Date(t.toDateString()),this.GCDate.getDay=function(){var e=t.getDay();return 0==e?6:e-1},this.GCDate.getMonth=function(){return t.getMonth()+1}}}SetLeapYear(){var t=(this.year-11)/4;Number.isInteger(t)?(this.leap_year=this.SIX,this.leap_year_index=1):(this.leap_year=this.FIVE,this.leap_year_index=0)}YearDifference(){return 9==this.month?this.day>=11&&this.leap_year==this.FIVE||this.day>=12&&this.leap_year==this.SIX?7:8:this.month>9?7:8}LeapYearAddition(){return this.leap_year==this.FIVE?1:this.leap_year==this.SIX?-1:1}AddZero(t){return 1==t.toString().length?"0"+t:t}EC_date_format(t){return this.Converted?t=(t=(t=(t=(t=(t=t.replace(/Y/g,this.EC_year)).replace(/y/g,this.EC_year.toString().substr(2,2))).replace(/M/g,this.EthiopianMonthName[this.EC_month-1])).replace(/m/g,this.AddZero(this.EC_month))).replace(/d/g,this.AddZero(this.EC_day))).replace(/D/g,this.EthiopianDayName[this.GCDate.getDay()]):""}GCMonthLength(){return 2==this.month?this.GregorianMonthLength[this.month-1][isInteger(this.year/4)?0:1]:this.GregorianMonthLength[this.month-1]}MatchDay(t,e,h,a){return t==e?h:a}GetLeapYear(){return this.Converted?this.leap_year:""}GetECDate(t){return this.Converted?this.EC_date_format(t):""}GetECMonthLength(){return this.Converted?13==this.EC_month?this.leap_year:30:0}GetGCDate(t){return this.Converted?t=(t=(t=(t=(t=(t=t.replace(/Y/g,this.GCDate.getFullYear())).replace(/y/g,this.GCDate.getFullYear().toString().substr(2,2))).replace(/M/g,this.GregorianMonthName[this.GCDate.getMonth()-1].substr(0,3))).replace(/m/g,this.AddZero(this.GCDate.getMonth()))).replace(/d/g,this.AddZero(this.GCDate.getDate()))).replace(/D/g,this.GregorianDayName[this.GCDate.getDay()].substr(0,3)):""}GetGCMonthFullName(){return this.Converted?this.GregorianMonthName[this.GCDate.getMonth()-1]:""}GetGCDayFullName(){return this.Converted?this.GregorianDayName[this.GCDate.getDay()]:""}GetGCMonthLength(){return this.Converted?this.GCMonthLength():0}ECDrawCalendar(){var t="";if(this.Converted){t+="<table class='calendar'><tr><th>ሰኞ</th><th>ማክሰኞ</th><th>ረቡዕ</th><th>ሐሙስ</th><th>ዓርብ</th><th class='rest'>ቅዳሜ</th><th class='rest'>እሁድ</th></tr>";for(var e=this.EC_day;e>7;)e-=7;(e=-(1-this.WEEK_DAY_LIST[this.GetGCDayFullName()]-e))>0&&(e-=7);for(var h=e;h<this.GetECMonthLength()&&e>=-6&&e<=0;)++h>0?Number.isInteger((h-(7+e))/7)?t+="<td class='"+this.MatchDay(h,this.GetECDate("d"),"today","day")+"'>"+h+"</td><tr>":t+="<td class='"+this.MatchDay(h,this.GetECDate("d"),"today","day")+"'>"+h+"</td>":t+="<td></td>";t+="</tr><tr><td class='today' colspan='7'>"+this.GetECDate("Y-m-d / D M d Yዓ.ም")+"</td></tr></table>"}return t}GCDrawCalendar(){var t="";if(this.Converted){t+="<table class='calendar'><tr><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th><th class='rest'>Sun</th></tr>";for(var e=this.day;e>7;)e-=7;(e=-(1-this.WEEK_DAY_LIST[this.GetGCDayFullName()]-e))>0&&(e-=7);for(var h=e;h<this.GetGCMonthLength()&&e>=-6&&e<=0;)++h>0?Number.isInteger((h-(7+e))/7)?t+="<td class='"+this.MatchDay(h,this.GetGCDate("d"),"today","day")+"'>"+h+"</td><tr>":t+="<td class='"+this.MatchDay(h,this.GetGCDate("d"),"today","day")+"'>"+h+"</td>":t+="<td></td>";t+="</tr><tr><td class='today' colspan='7'>"+this.GetGCDate("Y-m-d / ")+this.GetGCDayFullName()+" "+this.GetGCMonthFullName()+this.GetGCDate(" d Y")+"</td></tr></table>"}return t}}